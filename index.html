<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Copy Relay – CopyTrade</title>
  <link rel="stylesheet" href="style.css">
  
  <!-- 1) Bundle UMD do Supabase v2 — garante window.supabase -->
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2/dist/umd/supabase.js"></script>
  <!-- 2) Seu script, mas carregado só após o DOM (defer) -->
  <script src="script.js" defer></script>

</head>
<body>
  <header>
    <h1>Copy Relay</h1>
    <!-- Botões de entrar/cadastrar -->
    <button id="btn-login">Entrar</button>
    <button id="btn-signup">Cadastrar</button>
    <button id="btn-logout" hidden>Sair</button>
  </header>
  
  <!-- POP-UP LOGIN -->
  <div id="modal-login" class="modal hidden">
    <form id="form-login" class="modal-content">
      <h2>Login</h2>
      <input type="email" id="login-email" placeholder="Email" required>
      <input type="password" id="login-pass" placeholder="Senha" required minlength="6">
      <button type="submit">Entrar</button>
      <hr>
      <button type="button" id="btn-google-login">Entrar com Google</button>
      <button type="button" class="close-modal">Cancelar</button>
    </form>
  </div>
  
  <!-- POP-UP SIGNUP -->
  <div id="modal-signup" class="modal hidden">
    <form id="form-signup" class="modal-content">
      <h2>Cadastrar</h2>
      <input type="email" id="signup-email" placeholder="Email" required>
      <input type="password" id="signup-pass" placeholder="Senha" required minlength="6">
      <button type="submit">Cadastrar</button>
      <button type="button" class="close-modal">Cancelar</button>
    </form>
  </div>

  <main id="app" hidden>
    <section id="free-section" hidden>
      <h2>Chave Free</h2>
      <button id="btn-gen-free">Gerar MasterKey Free</button>
      <pre id="free-key"></pre>
    </section>

    <div id="sub-section" hidden>
      <h2>Assinatura</h2>
      <button id="btn-sub-trader">
        Assinar Trader — $20/mês (até 10 contas)
      </button>
      <button id="btn-sub-enterprise">
        Assinar Enterprise — $100/mês (contas ilimitadas)
      </button>
    </div>

    <section id="paid-section" hidden>
      <h2>Minha Licença</h2>
      <p>MasterKey: <code id="paid-key"></code></p>
      <!-- restante do seu painel -->
      <h3>Contas Autorizadas</h3>
      <ul id="accounts-list"></ul>
      <input type="number" id="new-login" placeholder="Número da conta MT4">
      <button id="btn-add-login">Adicionar Conta</button>
    </section>
  </main>

  <!-- Stripe.js -->
<script src="https://js.stripe.com/v3/"></script>

</body>
</html>
